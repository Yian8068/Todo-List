
<html lang="en" ng-app="ChatApp">
  <head>
    <meta charset="UTF-8">
    <title>AngularJS Chatroom</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.1.2/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/0.9.2/angularfire.min.js"></script>
    <script type="text/javascript" src="javascripts/app.js"></script>
    <script type="text/javascript" src="javascripts/infinitescroll.js"></script>
<link rel="stylesheet" type="text/css"  href="style.css">
  </head>  
  <body ng-controller="ChatCtrl">
    <h1>Angular JS 聊天室</h1>
    <div class="contentdiv">

    <ul  auto-scroll-to-bottom>
      <p>共有{{messages.length}}條訊息</p>
          <list-infinitescroll datasource="datasource"
                         list-title="Infinite Scroll Demo"
                         do-load-more="doLoadMore"
            >
      <li    >
/*ng-repeat="msg in messages"*/
        <div style="display:inline">
        <div class="btndiv" >
          <button ng-click="editmessage(msg)">Edit</button>
          <button ng-click="deletemessage(msg)">x</button>
          </div >
        
        <div class="oldmessage" >
          <p >{{msg.name}}：<br>{{msg.text}}</p>
        </div>
        </div>
      </li>
        </list-infinitescroll>
    </ul>

    </div>
    <div class="form-div">
    <form ng-submit="addmessage(nickname,newMessage)" autocomplete="on">
      <p><input type="text" ng-model="nickname" placeholder="Name"   maxlength=10 id="namearea"required/>
      <input type="text" ng-model="newMessage" placeholder="Message"  id="textarea"/>
        <button type="sumbit" id="addbtn">Send</button></p>
    </form>
    </div>
      </body>
</html>
